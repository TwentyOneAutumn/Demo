# 简单工厂模式

## 定义

> 简单工厂模式（Simple Factory Pattern）是一种创建型设计模式,它提供了一个统一的接口来创建对象,但是具体创建的对象类型是在工厂内部决定的.



## 角色

1. **工厂（Factory）**：负责创建具体对象的类.它包含一个方法,根据传入的参数或条件决定创建并返回不同的产品对象.
2. **产品（Product）**：被创建的对象的接口或抽象类,定义了具体产品对象的通用行为.
3. **具体产品（Concrete Product）**：实现了产品接口的具体对象.工厂根据需要创建并返回这些具体产品的实例.



## 示例

- 工厂类

  ```java
  /**
   * 手机工厂类
   */
  public class PhoneFactory {
  
      /**
       * 创建手机对象
       * @param type 手机类型
       * @return 手机对象
       */
      public static Phone create(String type){
          Phone phone = null;
          switch (type){
              case "huawei":{
                  phone = new HuaWei();
                  break;
              }
              case "xiaomi":{
                  phone = new XiaoMi();
                  break;
              }
              case "apple":{
                  phone = new IPhone();
                  break;
              }
          }
          return phone;
      }
  }
  ```

- **产品类**

  ```java
  /**
   * 手机接口类
   */
  public interface Phone {
      void getName();
  }
  ```

- **具体产品类**

  ```java
  /**
   * 华为手机类
   */
  public class HuaWei implements Phone {
      @Override
      public void getName() {
          System.out.println("华为15ProMax 1TB 冷锋蓝(遥遥领先)");;
      }
  }
  ```

  ```java
  /**
   * 小米手机类
   */
  public class XiaoMi implements Phone {
      @Override
      public void getName() {
          System.out.println("小米13Ultra");
      }
  }
  ```

  ```java
  /**
   * 苹果手机类
   */
  public class IPhone implements Phone {
      @Override
      public void getName() {
          System.out.println("苹果15ProMax 1TB 远峰蓝");
      }
  }
  ```

- **测试类**

  ```java
  /**
   * 测试类
   */
  public class Main {
  
      public static void main(String[] args) {
          // 调用工厂创建方法,根据参数创建不同类型的手机
          Phone huawei = PhoneFactory.create("huawei");
          Phone xiaomi = PhoneFactory.create("xiaomi");
          Phone apple = PhoneFactory.create("apple");
          // 获取手机信息
          huawei.getName();
          xiaomi.getName();
          apple.getName();
      }
  }
  ```

  

## 优点

- **简单调用**：只需要传入正确的参数,就可以获取需要的对象,无需知道创建细节.
- **责任分割**：工厂类中有必要的判断逻辑,可以决定根据当前的参数创建对应的产品实例,客户端可以免除直接创建产品对象的责任.
- **灵活性**：通过工厂方法,实现了对创建实例和使用实例的责任分割.

## 缺点

- **职责过重**：工厂类的职责较重,如果要增加新的产品,需要修改工厂类的判断逻辑,违背了`开闭原则`.
- **不够灵活**：每当增加一种产品时,都要修改工厂方法,这会破坏其内聚性,给维护带来额外开销.
